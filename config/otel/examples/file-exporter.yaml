# OTEL Collector - File Exporter Configuration
# Export logs, traces, and metrics to local files
#
# Usage:
# 1. Add this exporter to otel-collector-config.yaml
# 2. Add 'file' to pipeline exporters
# 3. Ensure output directory exists and is writable

exporters:
  # File exporter for logs
  file/logs:
    path: /var/log/otel/logs.json
    rotation:
      max_megabytes: 100
      max_days: 7
      max_backups: 3
    format: json
    
  # File exporter for traces
  file/traces:
    path: /var/log/otel/traces.json
    rotation:
      max_megabytes: 50
      max_days: 3
      max_backups: 5
    format: json
    
  # File exporter for metrics
  file/metrics:
    path: /var/log/otel/metrics.json
    rotation:
      max_megabytes: 50
      max_days: 7
      max_backups: 3
    format: json

# Add to service.pipelines:
# logs:
#   receivers: [otlp]
#   processors: [memory_limiter, batch]
#   exporters: [debug, file/logs]
#
# traces:
#   receivers: [otlp]
#   processors: [memory_limiter, batch]
#   exporters: [otlp/jaeger, debug, file/traces]
#
# metrics:
#   receivers: [otlp, prometheus]
#   processors: [memory_limiter, batch]
#   exporters: [prometheus, debug, file/metrics]

# Docker Compose volume mount:
# otel-collector:
#   volumes:
#     - ./logs/otel:/var/log/otel
